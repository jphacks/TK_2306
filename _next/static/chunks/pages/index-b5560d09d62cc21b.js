(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2627)}])},9582:function(e,a,t){"use strict";var n=t(5893);t(7294);var l=t(536),r=t.n(l);function Banner(){return(0,n.jsxs)("div",{className:r().banner,children:[(0,n.jsx)("img",{src:"/banner_calender.svg",alt:"Banner Image"}),(0,n.jsx)("h1",{children:"Junan Shift"}),(0,n.jsx)("img",{src:"/banner_calender.svg",alt:"Banner Image"})]})}a.Z=Banner},2536:function(e,a,t){"use strict";var n=t(5893),l=t(1265),r=t(2430);let s=(0,l.Z)({palette:{primary:{main:"#D9D9D9"}}});function Theme(e){return(0,n.jsx)(r.Z,{theme:s,children:e.children})}a.Z=Theme},2627:function(e,a,t){"use strict";t.r(a);var n=t(5893),l=t(7294),r=t(7632),s=t(3156),i=t(5861),o=t(7357),u=t(792),c=t(9417),m=t(720),d=t(1911),p=t(9382),h=t(657),x=t(9582),j=t(2536),v=t(7645),g=t(6514),Z=t(8951),b=t(1425),f=t(6154),_=t(1163),C=t(7484),y=t.n(C);a.default=()=>{let[e,a]=(0,l.useState)(""),[t,C]=(0,l.useState)(""),[S,N]=(0,l.useState)([]),[P,k]=(0,l.useState)([]),[w,A]=(0,l.useState)([]),[B,D]=(0,l.useState)([]),[M,E]=(0,l.useState)(!1),[T,Y]=(0,l.useState)(""),[O,q]=(0,l.useState)(""),[W,I]=(0,l.useState)(""),[V,X]=(0,l.useState)(0),[G,J]=(0,l.useState)(0),[R,z]=(0,l.useState)([]),F=(0,_.useRouter)(),handlePopupOpen=()=>{E(!0)},handlePopupClose=()=>{z([...R,{date:T,start:O,end:W,max:V,min:G,attr:[...w,...S],pref:[...B,...P]}]),q(""),I(""),X(0),J(0),A([]),D([]),E(!1)};return(0,n.jsx)(s.Z,{disableGutters:!0,maxWidth:!1,children:(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(x.Z,{}),(0,n.jsx)(i.Z,{variant:"h4",children:"シフト管理 - 管理者画面"}),(0,n.jsx)(o.Z,{children:(0,n.jsx)(u.Z,{label:"シフト表の名前",value:e,onChange:e=>a(e.target.value)})}),(0,n.jsxs)(m._,{dateAdapter:p.y,children:[(0,n.jsx)(d.W,{onChange:e=>{Y(e),handlePopupOpen()}}),(0,n.jsxs)(h.Z,{open:M,onClose:handlePopupClose,maxWidth:"md",style:{overflow:"auto"},children:[(0,n.jsx)(v.Z,{children:y()(T).format("ddd, DD MMM YYYY")}),(0,n.jsxs)(g.Z,{children:[(0,n.jsxs)(Z.Z,{id:"description of the dialog",children:["Please enter the start time, end time, minimum number of people,",(0,n.jsx)("br",{})," and maximum number of people for the shift."]}),(0,n.jsxs)(g.Z,{children:[(0,n.jsx)(u.Z,{label:"start time",value:O,onChange:e=>q(e.target.value)}),(0,n.jsx)("br",{}),(0,n.jsx)(u.Z,{label:"end time",value:W,onChange:e=>I(e.target.value)}),(0,n.jsx)("br",{}),(0,n.jsx)(u.Z,{label:"min",value:G,onChange:e=>J(Number(e.target.value))}),(0,n.jsx)(u.Z,{label:"max",value:V,onChange:e=>X(Number(e.target.value))})]}),(0,n.jsxs)(Z.Z,{id:"description of the attribute",children:["You can set the minimum and maximum number of people for each attribute.",(0,n.jsx)("br",{})," This requirement is always met."]}),(0,n.jsxs)(b.Z,{style:{flexDirection:"column"},children:[(0,n.jsx)(c.Z,{variant:"contained",color:"primary",onClick:()=>{A([...w,{name:"",max_people:0,min_people:0}])},style:{marginBottom:"16px"},children:"Add Attribute"}),w.map((e,a)=>(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(u.Z,{label:"Attribute",value:e.name,onChange:e=>{let t=[...w];t[a].name=e.target.value,A(t)}}),(0,n.jsx)(u.Z,{label:"Min",value:e.min_people,onChange:e=>{let t=[...w];t[a].min_people=Number(e.target.value),A(t)}}),(0,n.jsx)(u.Z,{label:"Max",value:e.max_people,onChange:e=>{let t=[...w];t[a].max_people=Number(e.target.value),A(t)}})]},a))]}),(0,n.jsxs)(Z.Z,{id:"description of the dialog",children:["You can set some constraints for each preferences.",(0,n.jsx)("br",{})," This requirement is met as much as possible."]}),(0,n.jsxs)(b.Z,{style:{flexDirection:"column"},children:[(0,n.jsx)(c.Z,{variant:"contained",color:"primary",onClick:()=>{D([...B,{target:"",value:""}])},style:{marginBottom:"16px"},children:"Add Preference"}),B.map((e,a)=>(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(u.Z,{label:"Preference",value:e.target,onChange:e=>{let t=[...B];t[a].target=e.target.value,D(t)}}),(0,n.jsx)(u.Z,{label:"Value",value:e.value,onChange:e=>{let t=[...B];t[a].value=e.target.value,D(t)}})]},a))]})]}),(0,n.jsx)(b.Z,{children:(0,n.jsx)(c.Z,{variant:"contained",onClick:handlePopupClose,color:"primary",children:"Enter"})})]})]}),(0,n.jsx)(c.Z,{variant:"contained",color:"primary",onClick:()=>{N([...S,{name:"",max_people:0,min_people:0}])},children:"Add Attribute"}),S.map((e,a)=>(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(u.Z,{label:"name",value:e.name,onChange:e=>{let t=[...S];t[a].name=e.target.value,N(t)}}),(0,n.jsx)(u.Z,{label:"Min",value:e.min_people,onChange:e=>{let t=[...S];t[a].max_people=Number(e.target.value),N(t)}}),(0,n.jsx)(u.Z,{label:"Max",value:e.max_people,onChange:e=>{let t=[...S];t[a].max_people=Number(e.target.value),N(t)}})]},a)),(0,n.jsx)(c.Z,{variant:"contained",color:"primary",onClick:()=>{k([...P,{target:"",value:""}])},children:"Add Preference"}),P.map((e,a)=>(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(u.Z,{label:"Preference",value:e.target,onChange:e=>{let t=[...P];t[a].target=e.target.value,k(t)}}),(0,n.jsx)(u.Z,{label:"Value",value:e.value,onChange:e=>{let t=[...P];t[a].value=e.target.value,k(t)}})]},a)),(0,n.jsx)(c.Z,{variant:"contained",color:"secondary",onClick:()=>{let a=(0,r.Z)(),t="".concat(a);C(t);let n=R.map(e=>({date:e.date,time_from:e.start,time_to:e.end,max_people:e.max,min_people:e.min,attrs:e.attr,preferences:e.pref})),l={name:e,group_id:a,dates:n},post=async()=>{await f.Z.post("http://127.0.0.1:9000/events",l)};post(),F.push("/".concat(a))},children:"作成"})]})})}},536:function(e){e.exports={banner:"Banner_banner__c4pqb"}}},function(e){e.O(0,[511,154,881,296,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);